<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Responsive Code Editor</title>
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: sans-serif;
      display: flex;
      flex-direction: column;
      height: 100vh;
      background-color: var(--bg);
      color: var(--text);
    }
    :root {
      --bg: #ffffff;
      --text: #000000;
      --tab-bg: #333;
      --tab-active: #555;
      --resizer-bg: #ccc;
      --button-bg: #eee;
    }
    .dark-theme {
      --bg: #1e1e1e;
      --text: #ffffff;
      --tab-bg: #222;
      --tab-active: #444;
      --resizer-bg: #666;
      --button-bg: #333;
    }
    .tabs {
      display: flex;
      background: var(--tab-bg);
      flex-wrap: wrap;
    }
    .tab {
      padding: 10px;
      color: var(--text);
      cursor: pointer;
      flex: 1;
      text-align: center;
    }
    .tab.active {
      background: var(--tab-active);
    }
    .editor-container {
      display: flex;
      flex-direction: column;
      height: 50%;
    }
    textarea {
      width: 100%;
      height: 100px;
      font-family: monospace;
      padding: 10px;
      border: none;
      resize: none;
      background-color: var(--bg);
      color: var(--text);
    }
    iframe {
      flex: 1;
      border: none;
      width: 100%;
    }
    .resizer {
      height: 5px;
      background: var(--resizer-bg);
      cursor: row-resize;
    }
    .buttons {
      display: flex;
      justify-content: space-around;
      padding: 10px;
      background: var(--button-bg);
    }
    button {
      padding: 5px 10px;
      font-size: 14px;
      cursor: pointer;
    }
    @media (max-width: 600px) {
      .tab { font-size: 12px; padding: 8px; }
      textarea { height: 80px; }
    }
  </style>
</head>
<body>
  <div class="tabs">
    <div class="tab active" data-lang="html">HTML</div>
    <div class="tab" data-lang="css">CSS</div>
    <div class="tab" data-lang="js">JavaScript</div>
  </div>

  <div class="editor-container">
    <textarea id="html" placeholder="Write HTML here..."></textarea>
    <textarea id="css" style="display:none;" placeholder="Write CSS here..."></textarea>
    <textarea id="js" style="display:none;" placeholder="Write JavaScript here..."></textarea>
  </div>

  <div class="resizer" id="resizer"></div>

  <iframe id="preview"></iframe>

  <div class="buttons">
    <button onclick="saveCode()">ðŸ’¾ Save</button>
    <button onclick="loadCode()">ðŸ“‚ Load</button>
    <button onclick="clearCode()">ðŸ§¹ Clear</button>
    <button onclick="toggleTheme()">ðŸŒ“ Theme</button>
  </div>

  <script>
    const tabs = document.querySelectorAll('.tab');
    const textareas = {
      html: document.getElementById('html'),
      css: document.getElementById('css'),
      js: document.getElementById('js')
    };
    const preview = document.getElementById('preview');

    tabs.forEach(tab => {
      tab.addEventListener('click', () => {
        tabs.forEach(t => t.classList.remove('active'));
        tab.classList.add('active');

        Object.keys(textareas).forEach(lang => {
          textareas[lang].style.display = lang === tab.dataset.lang ? 'block' : 'none';
        });
      });
    });

    Object.values(textareas).forEach(textarea => {
      textarea.addEventListener('input', updatePreview);
    });

    function updatePreview() {
      const html = textareas.html.value;
      const css = `<style>${textareas.css.value}</style>`;
      const js = `<script>${textareas.js.value}<\/script>`;
      preview.srcdoc = `${html}${css}${js}`;
    }

    function saveCode() {
      localStorage.setItem('html', textareas.html.value);
      localStorage.setItem('css', textareas.css.value);
      localStorage.setItem('js', textareas.js.value);
      alert('Code saved!');
    }

    function loadCode() {
      textareas.html.value = localStorage.getItem('html') || '';
      textareas.css.value = localStorage.getItem('css') || '';
      textareas.js.value = localStorage.getItem('js') || '';
      updatePreview();
    }

    function clearCode() {
      Object.values(textareas).forEach(t => t.value = '');
      updatePreview();
    }

    function toggleTheme() {
      document.body.classList.toggle('dark-theme');
    }

    const resizer = document.getElementById('resizer');
    const editorContainer = document.querySelector('.editor-container');
    let isDragging = false;

    resizer.addEventListener('mousedown', () => isDragging = true);
    window.addEventListener('mousemove', e => {
      if (!isDragging) return;
      const newHeight = e.clientY - editorContainer.offsetTop;
      editorContainer.style.height = `${newHeight}px`;
    });
    window.addEventListener('mouseup', () => isDragging = false);

    resizer.addEventListener('touchstart', () => isDragging = true);
    window.addEventListener('touchmove', e => {
      if (!isDragging) return;
      const touch = e.touches[0];
      const newHeight = touch.clientY - editorContainer.offsetTop;
      editorContainer.style.height = `${newHeight}px`;
    });
    window.addEventListener('touchend', () => isDragging = false);

    updatePreview();
  </script>
</body>
</html>
